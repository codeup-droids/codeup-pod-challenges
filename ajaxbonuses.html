<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>yeah</title>
    <style>

        #jokes{
            height: 400px;
            width: 400px;
            display:flex;
            border: 10px solid brown;
            border-radius: 50%;
            margin: 10px;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        #quoteContainer{
            display: flex;
        }

    </style>

</head>
<body>
<h1>Quote Tie-Fighter</h1>
<div id="quoteContainer">
    <button id="chuckJoke">chuck joke</button>
    <div id="jokes"></div>
    <button id="otherJoke">other quote</button>
</div>

<hr>

<script src="jquery.js"></script>
<script>




    $('#otherJoke').click(function() {
        $.ajax('http://quotes.stormconsultancy.co.uk/random.json').done(function (data) {
            $('#jokes').html('<h3>' + data.quote + ' -' + data.author + '</h3>')
        });
    });

    $('#chuckJoke').click(function(){
        $.ajax('http://api.icndb.com/jokes/random/').done(function(data){
            $('#jokes').html('<h3>' + data.value.joke + '</h3>')
        })
    });

    var restaurants = $.ajax('https://frest.glitch.me/restaurants');
    var isOpen = [];
    restaurants.done(function(data){
        console.log(data);
        data.forEach(function(datum, index){
            isOpen[index] = {
                "name": datum.name
            };
            console.log(isOpen);
            var today = new Date();
            var time = today.getHours();
            var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
            var day = days[today.getDay()];
            var joined = datum.operating_hours[day].split('-');
            console.log(datum.operating_hours[day]);
            for (var i=0; i<joined.length; i++){
                    if (joined[i].includes('pm')) {
                        joined[i] = joined[i].replace(/\D/g, '');
                        joined[i] = parseInt(joined[i]);
                        joined[i] += 1200;
                    } else {
                        joined[i] = joined[i].replace(/\D/g, '');
                        joined[i] = parseFloat(joined[i])
                    }
            } isOpen[index].times = joined;
            console.log(isOpen);
        }); isItOpen(isOpen);
    });
    var openRestaurantArray = [];
    function isItOpen(isOpen){
        var today = new Date();
        var time = today.getHours();
        console.log(time);
        for (var i=0; i<isOpen.length; i++){
            if (time >= isOpen[i].times[0] && time <= isOpen[i].times[1]){
                openRestaurantArray.push(isOpen[i].name)
            } else if (time >= isOpen[i].times[2] && time <= isOpen[i].times[3]){
                openRestaurantArray.push(isOpen[i].name)

            }
        } console.log(openRestaurantArray)
    }









</script>
</body>
</html>